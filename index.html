<!DOCTYPE html>

<html lang="es" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alertas | Municipalidad Chicama</title>
    <!-- Boxiocns CDN Link -->
    <link
      href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css"
      rel="stylesheet"
    />

    <!-- datatables -->
    <!--  <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css"
    /> -->
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
      integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
      crossorigin="anonymous"
    />
    <!-- animate.js -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <!-- button de dataTables -->
    <!-- <link
      rel="stylesheet"
      href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css"
    /> -->

    <!-- inicio probando codigo -->
    <script
      src="https://kit.fontawesome.com/ad533ab349.js"
      crossorigin="anonymous"
    ></script>

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap4.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/buttons/2.0.1/css/buttons.bootstrap4.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/buttons/2.0.1/css/buttons.bootstrap4.min.css"
    />

    <!-- fin probando codigo -->

    <!-- fin probando codigo -->

    <!-- mis estilos -->
    <link rel="stylesheet" href="./css/normalize.css" />
    <link rel="stylesheet" href="./css/lightbox.min.css" />
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body id="main-body">
    <div class="main-container">
      <!------- Inicio Modal crear y editar usuarios ----------------->

      <div
        id="modalAltaEdicion"
        class="modal fade"
        data-backdrop="static"
        data-keyboard="false"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header bg-primary text-light">
              <h5 class="modal-title" id="exampleModalLabel">
                Ingreso de Datos de Usuarios
              </h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <form>
              <div class="modal-body">
                <input id="id" type="hidden" />
                <!-- ID que vamos a recibir de firebase -->
                <div class="form-group">
                  <label>DNI</label>
                  <input
                    id="dni"
                    type="text"
                    class="form-control"
                    onkeypress="return isNumeric(event)"
                    oninput="maxLengthCheck(this)"
                    min="1"
                    max="99999999"
                    required
                  />
                </div>
                <div class="form-group">
                  <label>Nombres</label>
                  <input
                    id="nombres"
                    type="text"
                    class="form-control"
                    required
                  />
                </div>
                <div class="form-group">
                  <label>Apellidos</label>
                  <input
                    id="apellidos"
                    type="text"
                    class="form-control"
                    required
                  />
                </div>
                <div class="form-group">
                  <label>Correo Electrónico</label>
                  <input
                    id="email"
                    type="email"
                    class="form-control"
                    required
                  />
                </div>
                <div class="form-group">
                  <label>Contraseña</label>
                  <input
                    id="password"
                    minlength="6"
                    type="password"
                    class="form-control"
                    required
                  />
                </div>
                <div class="form-group">
                  <label>Número de Teléfono</label>
                  <input
                    id="telefono"
                    maxlength="9"
                    type="text"
                    class="form-control"
                    onkeypress="return isNumeric(event)"
                    required
                  />
                </div>
                <div class="form-group">
                  <label>Dirección</label>
                  <input
                    id="direccion"
                    type="text"
                    class="form-control"
                    required
                  />
                </div>
                <div class="form-group">
                  <label>Fecha de Nacimiento</label>
                  <input
                    id="fecnac"
                    type="date"
                    class="form-control"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="sexo">Sexo</label>
                  <br />
                  <select name="sexo" id="sexo">
                    <option value="Masculino" selected>Masculino</option>
                    <option value="Femenino">Femenino</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="tipo-usuario">Tipo de Usuario</label>
                  <br />
                  <select name="tipo-usuario" id="tipo-usuario">
                    <option value="1">Agente serenazgo</option>
                    <option value="2" selected>Ciudadano</option>
                  </select>
                </div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-warning"
                  data-dismiss="modal"
                  tabindex="2"
                >
                  Cancelar
                </button>
                <button type="submit" id="btnGuardar" class="btn btn-success">
                  Guardar
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!----------------- Fin Modal crear y editar usuarios----------------->

      <div class="sidebar close">
        <div class="logo-details">
          <i class="bx bx-tada bxs-bell-ring"></i>
          <span class="logo_name">Alerta Chicama</span>
        </div>
        <ul class="nav-links">
          <li>
            <a href="#">
              <i class="bx bx-grid-alt"></i>
              <span class="link_name" id="btnDashboard">Dashboard</span>
            </a>
            <ul class="sub-menu blank">
              <li><a class="link_name" href="#">Dashboard</a></li>
            </ul>
          </li>
          <li>
            <a href="#">
              <i class="bx bx-history"></i>
              <span class="link_name alert-history">Historial Alertas</span>
            </a>
            <ul class="sub-menu blank">
              <li>
                <a class="link_name float-alert-history" href="#"
                  >Historial alertas</a
                >
              </li>
            </ul>
          </li>

          <li>
            <a href="#">
              <i class="bx bx-compass"></i>
              <span class="link_name" id="btnCrudUsuarios">CRUD Usuarios</span>
            </a>
            <ul class="sub-menu blank">
              <li><a class="link_name" href="#">CRUD Usuarios</a></li>
            </ul>
          </li>

          <li>
            <a href="#">
              <i class="bx bx-shape-square"></i>
              <span class="link_name" id="btnCrudIncidencias"
                >CRUD Incidencias</span
              >
            </a>
            <ul class="sub-menu blank">
              <li><a class="link_name" href="#">CRUD Incidencias</a></li>
            </ul>
          </li>

          <li>
            <div class="profile-details">
              <div class="profile-content">
                <img
                  src="./image/icon-user-circle.png"
                  alt="profileImg"
                  id="img_profile"
                />
              </div>
              <div class="name-job">
                <div class="profile_name" id="profile_name">User</div>
                <div class="job">Agente serenazgo</div>
              </div>
              <i class="bx bx-log-out" id="log-out"></i>
            </div>
          </li>
        </ul>
      </div>
      <section class="home-section">
        <div class="home-content">
          <i class="bx bx-menu icon-menu"></i>
          <span class="text">UNIDAD DE SERENAZGO</span>
        </div>
        <div class="home-logo">
          <img src="./image/logo-muni.png" alt="" />
        </div>
      </section>
      <section class="main-content">
        <img
          class="img-main-dashboard"
          src="./image/muni-chicama.jpeg"
          alt=""
        />

        <!-- ------------------------------ INICIO Modal 2 --------------->
        <!-- Button trigger modal 2 -->
        <div class="container-modal2">
          <!-- cuerpo Modal 2-->
          <div
            class="modal fade"
            id="staticBackdrop"
            data-backdrop="static"
            data-keyboard="false"
            tabindex="-1"
            aria-labelledby="staticBackdropLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="staticBackdropLabel">
                    ¡ ATENCIÓN HAY UN NUEVO INCIDENTE !
                  </h5>
                  <button
                    type="button"
                    class="close btn-close-modal"
                    data-dismiss="modal"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <i class="bx bx-user-voice lg"></i>
                  <div class="modal-body__content">
                    UN USUARIO ACABA DE MANDAR UNA ALERTA A LA CENTRAL DE
                    MONITORIO, SE PROCEDERÁ A MOSTRAR LA LISTA DE ALERTAS,
                    GRACIAS.
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary btn-close-modal"
                    data-dismiss="modal"
                  >
                    Aceptar
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!-- ------------------------Fin Modal 2 ------------------->
        </div>

        <!-- --------- INICIO LISTA ALERTAS -------------- -->
        <div class="alerts">
          <!-- <div class="alerts d-none"> -->
          <ul class="alerts__list" id="alerts__list"></ul>
        </div>
        <ul class="leyenda-alertas d-none" id="leyenda-alertas">
          <li class="leyenda-alertas__item leyenda-alertas__violencia">
            Violencia Familiar
          </li>
          <li class="leyenda-alertas__item leyenda-alertas__asalto">
            Asalto o Robo
          </li>
          <li class="leyenda-alertas__item leyenda-alertas__transito">
            Accidente de Tránsito
          </li>
          <li class="leyenda-alertas__item leyenda-alertas__otra-alerta">
            Otra alerta
          </li>
        </ul>

        <!-- --------- FIN LISTA ALERTAS -------------- -->

        <div class="container-alert-details">
          <!-- -------------------- inicio detalles de alertas-------- -->
          <div class="alerts-details d-none" id="alerts-details-incident"></div>
          <!-- -------------------- Fin detalles de alertas-------- -->

          <!-- ---------------- Inicio mapa --------------------------- -->
          <div class="map-alerts d-none" id="map">
            <!--<img src="./image/googlemap.jpg" alt="" class="map-alerts__image" />-->
          </div>
          <!-- ---------------- Fin mapa --------------------------- -->
        </div>

        <!-- ---------------- INICIO TABLA USUARIOS ----------------- -->
        <div class="tabla-usuarios d-none">
          <div class="container">
            <div class="row">
              <div class="col-lg-12">
                <button
                  id="btnNuevo"
                  class="btn btn-primary"
                  type="button"
                  data-toggle="modal"
                  data-target="#modalAltaEdicion"
                >
                  <svg
                    class="bi bi-plus-circle-fill"
                    width="1em"
                    height="1em"
                    viewBox="0 0 16 16"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4a.5.5 0 0 0-1 0v3.5H4a.5.5 0 0 0 0 1h3.5V12a.5.5 0 0 0 1 0V8.5H12a.5.5 0 0 0 0-1H8.5V4z"
                    />
                  </svg>
                  Nuevo Usuario
                </button>
                <!-- aqui va el modalllllllllllllll -->
                <!-- diseño de la tabla -->
                <!-- <table id="tablaProductos" class="table table-bordered"> -->
                <table
                  id="tablaUsuarios"
                  class="table table-striped table-bordered table-resposive"
                  cellspacing="0"
                  width="100%"
                >
                  <thead class="text-center table-head">
                    <tr>
                      <th>ID</th>
                      <th>DNI</th>
                      <th>APELLIDOS</th>
                      <th>NOMBRES</th>
                      <th>CORREO</th>
                      <th>CONTRASEÑA</th>
                      <th>DIRECCION</th>
                      <th>TELÉFONO</th>
                      <th>FEC. NAC.</th>
                      <th>SEXO</th>
                      <th>TIPO USUARIO</th>
                      <th>ACCIONES</th>
                    </tr>
                  </thead>
                  <tbody id="bodyUsuarios" class="bodyUsuarios"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!-- ---------------- FIN TABLA USUARIOS ----------------- -->

        <!-- ---------------- INICIO TABLA INCIDENCIAS ----------------- -->
        <div class="tabla-incidencias d-none">
          <div class="container">
            <div class="row">
              <div class="col-lg-12">
                <table
                  id="tablaIncidencias"
                  class="table table-striped table-bordered"
                  style="width: 100%"
                >
                  <thead class="text-center table-head">
                    <tr>
                      <th>ID</th>
                      <th>TIPO DE INCIDENTE</th>
                      <th>FECHA</th>
                      <th>HORA</th>
                      <th>IMAGEN</th>
                      <th>ACCIONES</th>
                    </tr>
                  </thead>
                  <tbody id="bodyIncidencias" class="bodyIncidencias"></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <!-- ---------------- FIN TABLA INCIDENCIAS ----------------- -->
      </section>
    </div>

    <!-- lightbox-->
    <script src="./js/lightbox-plus-jquery.min.js"></script>
    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->

    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-storage.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-auth.js"></script>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
      integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
      crossorigin="anonymous"
    ></script>

    <!-- datatables -->

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap4.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/buttons/2.0.1/js/dataTables.buttons.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.bootstrap4.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.html5.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.print.min.js"
    ></script>

    <!-- js de los estilos para boton excel -->
    <script src="https://cdn.jsdelivr.net/npm/datatables-buttons-excel-styles@1.2.0/js/buttons.html5.styles.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/datatables-buttons-excel-styles@1.2.0/js/buttons.html5.styles.templates.min.js"></script>

    <!-- sweetalert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9.14.4/dist/sweetalert2.all.min.js"></script>

    <!-- Mis scripts -->
    <script src="./js/map.js"></script>
    <script src="./js/FireBaseConfig.js"></script>
    <script src="./js/util.js"></script>
    <script src="./js/dashboard.js"></script>
    <script src="./js/app.js"></script>
    <script src="./js/incidentes.js"></script>
    <script src="./js/crudUsuarios.js"></script>
    <script src="./js/crudIncidencias.js"></script>

    <!-- google map -->

    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD4CAL8GrrCma38DCHaH0Aa0iIAhr7wDMM&callback=initMap&v=weekly&channel=2"
    ></script>
  </body>
</html>
